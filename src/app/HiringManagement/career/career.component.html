   <!-- Begin page -->
   <div id="layout-wrapper">
    <app-header></app-header>

    <!-- ========== App Menu ========== -->
    <app-sidemenu></app-sidemenu> 
    <!-- Left Sidebar End -->
    <!-- Vertical Overlay-->
    <div class="vertical-overlay"></div>

        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content" style="overflow-x: hidden;">
            <div class="page-content">
                <div class="container-fluid">

                    <!--header-->
                    <div class="card mt-n4 mx-n4 mb-n5">
                        <div class="bg-info-subtle">
                            <div class="card-body pb-3 mb-5">
                                <div class="row">
                                    <div class="col-md">
                                        <div class="row align-items-center">
                                            <div class="d-flex align-items-center ma-10">
                                                <div class="flex-shrink-0">
                                                    <div class="avatar-sm">
                                                        <span class="avatar-title bg-info-subtle">
                                                            <img src="assets\styles\img\icons8-jobs-64.png" alt="" width="110%">
                                                        </span>
                                                    </div>
                                                    
                                                </div>
                                                <div class="flex-grow-1 ms-2 ma-5">
                                                    <h2 class="fs-16 mb-1 font-type fw-semibold text-uppercase">Careers</h2>
                                                </div>
                                            </div>
                                        </div>
                                        <!--end row-->
                                    </div>
                                </div>
                                <!--end row-->
                            </div><!-- end card body -->
                        </div>
                    </div>
                    <!--end header-->

                    <!--Tabs-->
                    <div class="row topbar-up">
                        <div class="col-lg-12">
                            <div class="card bg-blue">
                                <div class="card-body">
                                <div class="d-flex profile-wrapper">
                                    <!-- Nav tabs -->
                                    <ul class="nav nav-pills animation-nav profile-nav gap-2 gap-lg-3 flex-grow-1 fs-12" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link fs-14 active font-type" data-bs-toggle="tab" href="#JobOpenings" role="tab" (click)="FetchJobs()">
                                                <i class="ri-briefcase-4-line d-inline-block d-md-none"></i> <span class="d-none d-md-inline-block">Jobs Available <span class="badge bg-orange align-middle ms-1 fs-12">{{jobcount}}</span></span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link fs-14 font-type" data-bs-toggle="tab" href="#AppliedList" role="tab" (click)="AppliedJobs()">
                                                <i class="ri-list-unordered d-inline-block d-md-none"></i> <span class="d-none d-md-inline-block">Applied Jobs</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--End Tabs-->
                                <!-- Tab panes -->
                                <div class="tab-content pt-1 text-muted">
                                    <!-- Job openings -->
                                    <div class="tab-pane active" id="JobOpenings" role="tabpanel">
                                        <div class="row topbar-up">
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class="card-body bg-info-subtle p-2">
                                                        <div class="row">
                                                            <div class="col-sm">
                                                                <div class="d-flex flex-wrap gap-1">
                                                                    <div class="search-box">
                                                                        <input type="text" class="form-control font-type fs-12 textbox-15" placeholder="Search..." [(ngModel)]="searchInput1">
                                                                        <i class="ri-search-line search-icon"></i>
                                                                    </div>
                                                                    <div>
                                                                        <select class="form-select font-type fs-12 textbox-15 h-30" name="selectyear" id="selectyear" [formControl]="selectyear" (change)="FetchJobs()">
                                                                            <option *ngFor="let combo of yeardata" [value]="combo.DISPLAY_FIELD">{{ combo.DISPLAY_FIELD }}</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end col-->
                                        </div>
                                        <!-- end row -->

                                         <!-- Lists -->
                                        <div class="row margin-up-7">
                                            <div class="col-lg-6 col-md-6" *ngFor="let jobdata of joblist | search : searchInput1">
                                                <div class="card card-animate profile-project-card profile-project-Orange material-shadow shadow-lg textbox-15">
                                                    <div class="card-body p-3 font-type">
                                                        <div class="d-flex">
                                                            <div class="flex-grow-1 text-muted overflow-hidden">
                                                                <h5 class="fs-15 font-type fw-semibold"><a href="#" class="text-body">{{jobdata.DESIGNATION}}</a></h5>
                                                                <p class="text-muted mb-1 fs-12">ID : <span class="fw-semibold text-body">{{jobdata.JOB_ID}}</span></p>
                                                                <p class="text-muted mb-1 fs-12">Company : <span class="fw-semibold text-body">{{jobdata.COMPANY}}</span></p>
                                                                <p class="text-muted mb-1 fs-12">Department : <span class="fw-semibold text-body">{{jobdata.DEPARTMENT}}</span></p>
                                                                <p class="text-muted mb-1 fs-12">No of Openings : <span class="fw-semibold text-body">{{jobdata.NO_OF_POSITIONS}}</span></p>
                                                                <p class="text-muted mb-1 fs-12">Work Location : <span class="fw-semibold text-body">{{jobdata.WORK_LOCATION}}</span></p>
                                                                <p class="text-muted mb-0 fs-12">Required Experience :<a href="#JobDescriptionModal" data-bs-toggle="modal" class="text-orange d-inline-block edit-item-btn ms-1 fs-12" style="text-decoration: underline;" (click)="ViewExperience(jobdata.REQ_EXPERIENCE)">View Details</a></p>
                                                            </div>
                                                            <div class="flex-shrink-0 ms-2">
                                                                <button type="submit" class="btn btn-blue font-type text-white" data-bs-toggle="modal" data-bs-target="#ApplyJobModal" (click)="ActiveJob(jobdata)">Apply Now</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-body border-top border-top-dashed h-30">
                                                        <div class="d-flex">
                                                            <div class="flex-grow-1"></div>
                                                            <h6 class="flex-shrink-0 text-muted mb-0 font-type fs-12 margin-up-7"><i class="ri-time-line align-middle"></i> {{jobdata.REQUESTED_DATE | date:'dd MMM, yyyy'}}</h6>
                                                        </div>
                                                    </div>
                                                    <!-- end card body -->
                                                </div>
                                                <!-- end card -->
                                            </div>
                                            <!--end col-->
                                        </div>
                                            <!--end col-->
                                        <!-- <div class="row">
                                            <div class="col-lg-12">
                                                <div class="mt-1 mb-4">
                                                    <ul class="pagination pagination-separated justify-content-center mb-0 font-type">
                                                        <li class="page-item disabled">
                                                            <a href="javascript:void(0);" class="page-link"><i class="ri-arrow-left-line"></i></a>
                                                        </li>
                                                        <li class="page-item active">
                                                            <a href="javascript:void(0);" class="page-link">1</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a href="javascript:void(0);" class="page-link">2</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a href="javascript:void(0);" class="page-link">3</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a href="javascript:void(0);" class="page-link">4</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a href="javascript:void(0);" class="page-link">5</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a href="javascript:void(0);" class="page-link"><i class="ri-arrow-right-line"></i></a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div> -->
                                             <!--End Lists -->
                                    </div>
                                    <!-- end Job openings tab -->

                                    <!-- Candidates Evaluation tab -->
                                    <div class="tab-pane fade" id="AppliedList" role="tabpanel">
                                        <div class="row topbar-up">
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class="card-header" style="padding:10px">
                                                        <div class="row align-items-center gy-3">
                                                            <div class="col-sm">
                                                                <div class="align-items-center d-flex ">
                                                                    <h4 class="card-title mb-0 flex-grow-1 fs-15 font-type fw-semibold">Applied Job List</h4>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-auto">
                                                                <div class="d-flex gap-1 flex-wrap">
                                                                    <div class="search-box">
                                                                        <input type="text" class="form-control search h-30 textbox-15 font-type" placeholder="Search..." [(ngModel)]="searchInput">
                                                                        <i class="ri-search-line search-icon"></i>
                                                                    </div>
                                                                    <div>
                                                                        <select class="form-select font-type h-30 textbox-15 " [(ngModel)]="company" (change)="AppliedJobs()">
                                                                            <option value="-1" selected>Company</option>
                                                                            <option *ngFor="let combo of companydata" [value]="combo.KEY_ID">{{ combo.DATA_VALUE }}</option>
                                                                        </select> 
                                                                    </div>
                                                                    <div>
                                                                        <select class="form-select font-type fs-12 textbox-15 h-30" [(ngModel)]="status" (change)="AppliedJobs()">
                                                                            <option value="-1" selected>Status</option>
                                                                            <option *ngFor="let combo of hiringstatus" value="{{combo.KEY_ID}}" [hidden]="combo.KEY_ID==6">{{combo.DATA_VALUE}}</option>                                                            
                                                                        </select>  
                                                                    </div>
                                                                    <div>
                                                                        <select class="form-select font-type fs-12 textbox-15 h-30" name = "year" [formControl]="year" (change)="AppliedJobs()">
                                                                            <option *ngFor="let combo of yeardata" [value]="combo.DISPLAY_FIELD">{{ combo.DISPLAY_FIELD }}</option>
                                                                        </select>  
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="table-responsive table-card mb-0">
                                                            <table class="table table-nowrap align-middle table-bordered border-orange table-hover">
                                                                <thead class="table-light text-white font-type">
                                                                <tr>
                                                                    <th>No</th>
                                                                    <th>Designation</th>
                                                                    <th>Company</th>
                                                                    <th>Applied Type</th>
                                                                    <th>Applied Date</th>
                                                                    <th>Job Status</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="list form-check-all font-type fs-11">
                                                            <tr class="font-type h-30" *ngFor="let applieddata of appliedjoblist | search : searchInput | pagination: currentPage: itemsPerPage;let i=index">
                                                                <td>{{i+1}}</td>
                                                                <td style="white-space: pre-wrap;">{{applieddata.DESIGNATION}}</td>
                                                                <td style="white-space: pre-wrap;">{{applieddata.COMPANY}}</td>
                                                                <td style="white-space: pre-wrap;">{{applieddata.APP_TYPEVAL}}</td>
                                                                <td>{{applieddata.REQUESTED_DATE | date:"dd-MM-yyyy"}}</td>
                                                                <td class="status"><span class="badge bg-success-subtle text-success width-budge fs-11 fw-semibold text-uppercase">{{applieddata.STATUS_VAL}}</span></td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div *ngIf="appliedjoblist">
                                                        <div class="align-items-center justify-content-between row text-center text-sm-start"*ngIf="totalSearchResults>0">
                                                            <div class="col-sm">
                                                              <div class="font-type fs-12 text-muted">
                                                                Showing <span class="fw-semibold">{{ getEntriesStart() }}</span>
                                                                - <span class="fw-semibold">{{ getEntriesEnd() }}</span>
                                                                of <span class="fw-semibold">{{ totalSearchResults }}</span> Results
                                                              </div>
                                                            </div>
                                                            <div class="col-sm">
                                                                <div class="font-type fs-12 text-muted">
                                                                    Total Pages : <span class="fw-semibold"> {{ getTotalPages() }}</span>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-auto mt-4 mt-sm-0">
                                                                <div class="d-flex gap-1 flex-wrap">
                                                                    <div>
                                                                        <div class="input-group">
                                                                <input type="number" class="form-control h-20 font-type" style="width:100px" aria-describedby="button-addon2" placeholder="Go to Page" [(ngModel)]="desiredPage" tabindex="1">                                                                    
                                                                
                                                               <button class="btn btn-orange text-white font-type fs-12 h-20" type="button" id="button-addon2"(click)="goToPage()" tabindex="2">Go</button>
                                                          </div>
                                                        </div>
                                                             
                                                            <div class="col-sm-auto mt-3 mt-sm-0">
                                                              <ul class="pagination pagination-separated pagination-sm mb-0 justify-content-center">
                                                                <li class="page-item">
                                                                  <button class="page-link" (click)="changePage(currentPage - 1)" [class.disabled-button]="currentPage === 1">←</button>
                                                                </li>
                                                                <ng-container *ngFor="let pageNumber of getPageNumbers(currentPage)">
                                                                  <li class="page-item">
                                                                    <button class="page-link" (click)="changePage(pageNumber)" [class.active]="currentPage === pageNumber">{{ pageNumber }}</button>
                                                                  </li>
                                                                </ng-container>
                                                                <li class="page-item">
                                                                  <button class="page-link" (click)="changePage(currentPage + 1)" [class.disabled-button]="currentPage * itemsPerPage >= totalSearchResults">→</button>
                                                                </li>
                                                              </ul>
                                                            </div>
                                                          </div>
                                                        </div>
                                                       </div>
                                                      </div> 
                                                    </div>
                                                </div>
                                            </div><!--end col-->
                                        </div>
                                        <!--end card-->
                                    </div>
                                     <!-- end Candidates Evaluation tab -->
                                    <!--end tab-pane-->
                                </div>
                                <!--end tab-content-->
                      
                           <!-- Modal Box -->    

                           <!-- Apply Job Modal Box -->    
                           <div class="modal fade" id="ApplyJobModal" tabindex="-1" aria-labelledby="AddJobPostModal" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header bg-orange padding-up-5">
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                                    </div>
                                    <form class="tablelist-form" autocomplete="off" [formGroup]="ApplyForm" (ngSubmit)="validateApplyForm()" >
                                        <div class="modal-body">
                                            <input type="hidden" id="id-field" />
                                            <div class="row mb-3">
                                            <div class="input-group">
                                                <div class="form-check form-check-inline form-check-info" *ngFor="let type of careerstatus">
                                                    <div *ngIf="type.KEY_ID == '0' || type.KEY_ID == '1'">
                                                    <input
                                                      class="form-check-input"
                                                      type="radio"
                                                      name="type"
                                                      [id]="'radio_' + type.KEY_ID"
                                                      [value]="type.KEY_ID"
                                                      formControlName="type"
                                                    />
                                                    <label
                                                      class="form-check-label font-type fs-13 fw-semibold"
                                                      [for]="'radio_' + type.KEY_ID"
                                                    >
                                                      {{ type.DATA_VALUE }}
                                                    </label>
                                                    </div>
                                                  </div>
                                                  
                                                <div *ngIf="ApplyForm.get('type')!.hasError('required') && ApplyForm.get('type')!.touched" class="text-danger">
                                                    Please, select the type.
                                                </div> 
                                            </div>
                                            </div>
                                            <div class="border border-dashed rounded p-3 pa-0 mb-0">
                                                <div class="row mb-3">
                                                    <div class="col-lg-3">
                                                        <h3 class="fw-semibold fs-12 font-type"><span>Upload CV</span></h3>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input class="form-control font-type fs-12 textbox-15" type="file" id="formFile" name="cv" formControlName="cv">
                                                        <span class="fs-11 font-type ma-10 text-muted">* Maximum Size - 500KB</span>
                                                        <div *ngIf="ApplyForm.get('cv')!.hasError('required') && ApplyForm.get('cv')!.touched" class="text-danger">
                                                            Please, upload the CV..
                                                        </div>  
                                                    </div>
                                                </div>
                                                <div class="row mb-1">
                                                    <div class="col-lg-3">
                                                        <h3 class="fw-semibold fs-12 font-type"><span>Comments</span></h3>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <textarea class="form-control textbox-15 font-type" required rows="6" placeholder="Comments" name="comments" formControlName="comments"></textarea>
                                                        <div *ngIf="ApplyForm.get('comments')!.hasError('required') && ApplyForm.get('comments')!.touched" class="text-danger">
                                                            Please, fill the field.
                                                        </div> 
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-2 ma-5">
                                            <div class="hstack gap-2">
                                                <div class="hstack gap-2" *ngIf="!ApplyForm.valid">
                                                    <button type="button" class="btn btn-orange btn-label right ms-auto nexttab nexttab font-type" [disabled]="ApplyForm.valid" id="validate-btn" (click)="validateApplyForm()"><i class="ri-check-line label-icon align-middle fs-16 ms-2"></i>Submit</button>
                                                </div>
                                            
                                                <div class="hstack gap-2" *ngIf="ApplyForm.valid">
                                                    <button type="button" class="btn btn-orange btn-label right ms-auto nexttab nexttab font-type" id="add-btn" data-bs-toggle="modal" data-bs-target="#SuccessRecordModal" (click)="uploadCV()"><i class="ri-check-line label-icon align-middle fs-16 ms-2"></i>Submit</button>
                                                </div>
                                                <button type="button" class="btn btn-blue btn-label right  nexttab  nexttab font-type" (click)="clear()"><i class="ri-close-circle-line label-icon align-middle fs-16 ms-2"></i>Cancel</button>
                                            </div>
                                        </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                           </div>
                           <!-- End Apply Job Modal Box -->
                           
                           <!-- Job Description Modal-->
                           <div class="modal fade zoomIn" id="JobDescriptionModal" tabindex="-1" aria-labelledby="JobDescriptionModal" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header bg-orange padding-up-5">
                                        <h5 class="fs-13 font-type text-white ma-5 fw-semibold">Required Experience</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                                    </div>
                                    <div class="modal-body pa-0">
                                        <div>
                                            <label class="form-label font-type" style="text-align: justify;"></label>
                                                <p>{{reqExp}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           </div>
                           <!-- End Detailed Description  Modal--> 
                            <!--Modal For Success Message Start-->
                            <div class="modal fade zoomIn" id="SuccessRecordModal" tabindex="-1" aria-labelledby="deleteRecordLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header bg-orange padding-up-5">
                                            <h5 class="modal-title" id="exampleModalLabel">&nbsp;</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                                        </div>
                                        <div class="modal-body" *ngIf="showModal==1"> 
                                            <div class="container">
                                                <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-check-circle text-success" style="font-size: 25px;" style="font-size: 12px;"></i> {{success}}</h2>
                                        
                                            </div>
                                        </div>
                                        <div class="modal-body" *ngIf="showModal==2">
                                        <div class="container">
                                            <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-times-circle text-danger" style="font-size: 25px;" style="font-size: 12px;"></i> {{failed}}</h2>
                                            
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                </div>

                </div>
                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->

            <app-footer></app-footer>
        </div>
        <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->
